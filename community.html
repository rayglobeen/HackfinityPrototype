<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EduPath Community</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

    * { font-family: 'Inter', sans-serif; }

    body {
      background: linear-gradient(to bottom right, #f0f4ff, #ede7ff, #ffe4f0);
      overflow-x: hidden;
      color: #1f2937;
    }

    .hero-bg {
      background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #f5576c, #4facfe, #00f2fe);
      background-size: 400% 400%;
      animation: gradientShift 8s ease infinite;
      position: relative;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .btn-primary { background: linear-gradient(135deg,#667eea,#764ba2); color:white; padding:0.5rem 1rem; border-radius:10px; transition:0.3s; cursor:pointer; }
    .btn-primary:hover { background: linear-gradient(135deg,#764ba2,#667eea); transform:translateY(-2px); box-shadow:0 10px 20px rgba(0,0,0,0.2); }
    .btn-delete { background: #f87171; color:white; padding:0.3rem 0.7rem; border-radius:8px; margin-left:0.5rem; cursor:pointer; transition:0.2s; }
    .btn-delete:hover { background: #ef4444; }

    .comment-card { background: rgba(255,255,255,0.2); backdrop-filter: blur(15px); border-radius:12px; padding:1rem; margin-bottom:1rem; }
    .comment-header { font-weight:600; color:#764ba2; display:flex; justify-content:space-between; align-items:center; }
    .reply-input { width:100%; padding:0.5rem; border-radius:8px; border:1px solid #ddd; margin-top:0.5rem; }

    .orb { position:absolute; border-radius:50%; opacity:0.15; animation: float 6s ease-in-out infinite; }
  </style>
</head>
<body class="relative">

  <!-- Floating Orbs -->
  <div class="absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-blue-400 to-purple-500 orb"></div>
  <div class="absolute top-96 right-20 w-24 h-24 bg-gradient-to-r from-pink-400 to-red-500 orb"></div>
  <div class="absolute bottom-40 left-1/4 w-40 h-40 bg-gradient-to-r from-green-400 to-blue-500 orb"></div>

  <!-- Header -->
  <header class="sticky top-0 z-50 py-4 px-6 bg-white/90 backdrop-blur-xl border-b border-black/5 flex items-center justify-between shadow-md">
    <h1 class="text-3xl font-black bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent">EduPath</h1>
    <a href="index.html" class="px-4 py-2 rounded-xl text-white font-semibold bg-gradient-to-r from-indigo-600 to-purple-600">← Back to Home</a>
  </header>

  <!-- Hero Section -->
  <section class="hero-bg py-20 text-center text-white">
    <h2 class="text-5xl font-black mb-4">Community Connect</h2>
    <p class="text-xl max-w-2xl mx-auto mb-6">Join discussions, share your thoughts, and connect with peers in a safe and interactive space.</p>
  </section>

  <!-- Comments Section -->
  <section class="max-w-3xl mx-auto py-16 px-6">
    <h3 class="text-3xl font-bold mb-6 text-gray-800">Community Comments</h3>

    <div id="commentsContainer"></div>

    <div class="mt-8">
      <h4 class="font-semibold mb-2 text-gray-700">Add a Comment</h4>
      <input type="text" id="newComment" placeholder="Write your comment..." class="reply-input" />
      <button id="addCommentBtn" class="btn-primary mt-2">Post Comment</button>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-white text-gray-800 py-12 mt-12 text-center shadow-inner">
    © 2025 EduPath. Crafted with ❤ for the future leaders.
  </footer>

  <script>
    const commentsContainer = document.getElementById('commentsContainer');
    const addCommentBtn = document.getElementById('addCommentBtn');
    const newCommentInput = document.getElementById('newComment');

    // Load comments from localStorage or initialize
    let comments = JSON.parse(localStorage.getItem('comments')) || [
      { user: "Alice", text: "I love this platform! Very helpful.", replies: [] },
      { user: "Bob", text: "Can someone guide me about AI courses?", replies: [] },
      { user: "Charlie", text: "Amazing insights on career paths!", replies: [] }
    ];

    // Save comments to localStorage
    function saveComments() {
      localStorage.setItem('comments', JSON.stringify(comments));
    }

    // Render comments to DOM
    function renderComments() {
      commentsContainer.innerHTML = '';
      comments.forEach((comment, index) => {
        const div = document.createElement('div');
        div.className = 'comment-card';
        div.innerHTML = `
          <div class="comment-header">
            <span>${comment.user}</span>
            <button class="btn-delete" data-index="${index}">Delete</button>
          </div>
          <div class="comment-text mb-2">${comment.text}</div>
          <div class="replies mb-2">
            ${comment.replies.map(r => `<div class="comment-card ml-4 bg-white/20"><strong>${r.user}:</strong> ${r.text}</div>`).join('')}
          </div>
          <input type="text" placeholder="Reply..." class="reply-input" id="replyInput${index}" />
          <button class="btn-primary mt-1" data-reply-index="${index}">Reply</button>
        `;
        commentsContainer.appendChild(div);
      });

      // Attach event listeners AFTER rendering
      document.querySelectorAll('.btn-delete').forEach(btn => {
        btn.addEventListener('click', function() {
          const index = this.getAttribute('data-index');
          if(confirm("Are you sure you want to delete this comment?")){
            comments.splice(index, 1);
            saveComments();
            renderComments();
          }
        });
      });

      document.querySelectorAll('button[data-reply-index]').forEach(btn => {
        btn.addEventListener('click', function() {
          const index = this.getAttribute('data-reply-index');
          const input = document.getElementById(`replyInput${index}`);
          const replyText = input.value.trim();
          if(replyText){
            comments[index].replies.push({ user: "You", text: replyText });
            saveComments();
            renderComments();
          }
        });
      });
    }

    // Add new comment
    addCommentBtn.addEventListener('click', () => {
      const text = newCommentInput.value.trim();
      if(text){
        comments.push({ user: "You", text, replies: [] });
        saveComments();
        renderComments();
        newCommentInput.value = '';
      }
    });

    // Initial render
    renderComments();
  </script>

</body>
</html>
